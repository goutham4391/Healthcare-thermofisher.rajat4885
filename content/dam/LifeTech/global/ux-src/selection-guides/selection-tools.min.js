function tfsSelection(t,e){var s=new HttpDataModel,i=function(e){if(selectionClass.buildFilters(e),t.rows=e.rows,t.columns=e.columns,t.filters=e.filters,t.help=e.help,t.matrix=e.matrix,t.keys=e.keys,t.skuList={},e.skus.length>0)for(var s=new SelectionProduct,i=0;i<e.skus.length;i++){var a=function(e){e.results.skuList[0].hash=s.makeID(),e.results.skuList[0].imagePath=s.processImage(e.results.skuList[0].images),e.results.skuList[0].orderPath="https://www.thermofisher.com/order/catalog/product/"+e.results.skuList[0].sku,t.skuList[e.results.skuList[0].sku]=e.results.skuList[0],t.$apply()},r=new HttpDataModel;r.getRequest(s.searchPath+e.skus[i],a)}t.$apply()};s.getRequest(e,i)}function HttpDataModel(){this.dataSourceURL="",this.dataObject={},this.workbook={},this.completionHandler={},this.httpRequest=new XMLHttpRequest,this.url="",this.orderURL="/order/catalog/product/",this.getRequest=function(t,e){this.completionHandler=e;var s=t.substr(-4);this.httpRequest.passedURL=t,"xlsx"==s?this.getXLS():this.getJSON(),this.httpRequest.httpDataModel=this},this.getOrderURL=function(){return this.orderURL},this.getJSON=function(){"object"==typeof this.httpRequest&&(this.httpRequest.onreadystatechange=function(){if("{"==this.responseText.charAt(0)&&4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);this.httpDataModel.completionHandler(t)}},this.httpRequest.open("GET",this.httpRequest.passedURL,!0),this.httpRequest.send())},this.getXLS=function(){this.httpRequest.open("GET",this.httpRequest.passedURL,!0),this.httpRequest.responseType="arraybuffer",this.httpRequest.onload=function(t){for(var e=this.response,s=new Uint8Array(e),i=new Array,a=0;a!=s.length;++a)i[a]=String.fromCharCode(s[a]);var r=i.join("");this.httpDataModel.workbook=XLSX.read(r,{type:"binary"});var o=XLS.utils.sheet_to_row_object_array(this.httpDataModel.workbook.Sheets["data-source"]);if(o.length>0){for(var l=[],n=[],h=[],c=Object.keys(o[0]),f=0;f<c.length;f++){var u=c[f];n.push(u)}for(var d=0;d<o.length;d++){for(var m={},p=0;p<n.length;p++)m[n[p]]=o[d][n[p]],"undefined"!=typeof n[p]&&"sku"==n[p]&&h.push(o[d][n[p]]);l.push(m)}this.httpDataModel.dataObject.rows=l,this.httpDataModel.dataObject.keys=n,this.httpDataModel.dataObject.skus=h,this.httpDataModel.dataObject.orderURL=this.httpDataModel.getOrderURL()}this.httpDataModel.completionHandler(this.httpDataModel.dataObject)},this.httpRequest.send()}}function SlideSelection(){this.isolateFilters=function(){for(var t=0;t<originalDataModel.length;t++)originalDataModel.keys[t].indexOf("+")>-1},this.buildFilters=function(t){t.columns=[],t.filters={},t.help=[];for(var e=0;e<t.keys.length;e++){String(t.keys[e]);var s=t.keys[e].indexOf("+");if(s>-1&&t.keys[e].length>s){if(s>-1&&t.keys[e].length>s){var i=t.keys[e],a=i.substring(s+1),r=t.keys[e].substring(0,s),o=r.replaceAll("-"," ");t.columns[parseInt(a)]={ids:[t.keys[e],o],column:a},t.filters[t.keys[e]]={}}t.columns[parseInt(a)]={ids:[t.keys[e],o,t.keys[e],o],column:a},t.filters[t.keys[e]]={}}}for(var l=0;l<t.columns.length;l++)t.help[l]=" <-- is the index for "+t.columns[l].ids[1];for(var e=0;e<t.columns.length;e++){for(var n=String(t.columns[e].ids[0]),h=0;h<t.rows.length;h++){var c="",f="-"+n.replace("+","-"),u=String(t.rows[h][n]);if(u.indexOf("|")>-1)for(var d=u.split("|"),l=0;l<d.length;l++){var m=d[l].replace(/\W/g,"").toLowerCase()+f;c+=" "+m,t.filters[n].hasOwnProperty(m)||(t.filters[n][m]=d[l])}else c=u.replace(/\W/g,"").toLowerCase()+f,t.filters[n].hasOwnProperty(c)||(t.filters[n][c]=u);void 0==t.rows[h].classes?t.rows[h].classes=c:t.rows[h].classes+=" "+c;for(var p=[],g=0;g<t.columns.length;g++)p.push(t.rows[h][t.columns[g].ids[0]]);t.rows[h].output=p}t.columns[e].filters=t.filters[n]}t.filters},this.enableFilters=function(t){t.fn.extend({filterPop:function(){t(this).attr("data-filter-column")+1},filterPush:function(){},filterItem:function(){var e=t(this).attr("data-filter-item"),s=parseInt(t(this).attr("data-filter-column")),i=t("body").data("filters"),a="#data-rows .data-row";i[s]=e;for(var r in i)parseInt(r)>s?i[r]="":a+="."+i[r];t("body").data("filters",i),t("#data-rows .data-row").hide(),t(a).show("slow"),t("#filter-columns .data-filter-item").hide(),t("#filter-columns .data-filter-item").each(function(){for(var e=t(this),a=e.attr("data-filter-item"),r=e.attr("data-filter-column"),o=0;s>=o;o++)e.hasClass(i[o])&&e.show(),t(".data-row:visible").each(function(){t(this).hasClass(a)&&s+1>=r&&(e.show(),t(this).removeClass("active"))})})},showAllFilters:function(){t("body").data("filters",{}),t(".data-filter-item").show("slow")},showInitFilters:function(){t("body").data("filters",{}),t(".data-filter-item").hide(),t(".data-filter-group:first-child .data-filter-item ").show("slow")}}),t("body").data("filters",{}),t(document).on("click",".btn-e-com",function(e){return miniCart.addToCart(t(this).closest("form").attr("id")),!1}),t(document).on("click",".data-filter-item",function(e){t(this).filterItem(),t(this).siblings("li").removeClass("active"),t(this).addClass("active")}),t(document).on("click",".filter-back-btn",function(e){t(this).filterPop()}),t(document).on("click",".show-all-filters",function(e){t(this).showAllFilters(),t(".data-filter-item").removeClass("active")}),t(document).on("click",".show-init-filters",function(e){t(this).showInitFilters(),t(".data-filter-item").removeClass("active")})}}function FormSelection(){this.localJquery={},this.buildFilters=function(t){t.columns=[],t.filters={},t.help=[];for(var e=0;e<t.keys.length;e++){var s=t.keys[e].indexOf("+");if(String(t.keys[e]),s>-1){var i=(t.keys[e].match(/\+/g)||[]).length,a=t.keys[e].substring(0,s),r=a.replaceAll("-"," "),o={name:r,matrix:!1,id:null,filters:{},ids:[t.keys[e],r]};1==i&&(o.id=t.keys[e].substring(s+1)),2==i&&(o.id=t.keys[e].substring(s+2),o.matrix=!0,t.matrix=[],t.matrix[o.id]={a:{},b:{}}),t.filters[t.keys[e]]={},t.columns.push(o)}}for(var l=0;l<t.columns.length;l++)t.columns[l].matrix?t.help[t.columns[l].id]=" <-- is a matrix":t.help[l]=" <-- is the index for "+t.columns[l].ids[1];for(var e=0;e<t.columns.length;e++)if("undefined"!=typeof t.columns[e]){for(var n=String(t.columns[e].ids[0]),h=String(t.columns[e].ids[1]),c=0;c<t.rows.length;c++){var f="",u="-"+n.replace(/\+/g,"-"),d=String(t.rows[c][n]),m=d.replace(/\W/g,"-").toLowerCase();if(d.indexOf("|")>-1)for(var p=d.split("|"),l=0;l<p.length;l++){var g=p[l].replace(/\W/g,"-").toLowerCase()+u;f+=" "+g,t.filters[n].hasOwnProperty(g)||(t.filters[n][g]=p[l])}else if(f=m+u,!t.filters[n].hasOwnProperty(f)&&(t.filters[n][f]=d,t.columns[e].matrix)){var v=parseInt(t.columns[e].id);t.matrix[v].b.hasOwnProperty(n)||(t.matrix[v].b[n.replace(/\+/g,"-")]=h),t.matrix[v].a.hasOwnProperty(m)||(t.matrix[v].a[m]=d)}void 0==t.rows[c].classes?t.rows[c].classes=f:t.rows[c].classes+=" "+f;for(var w=[],k=0;k<t.columns.length;k++)w.push(t.rows[c][t.columns[k].ids[0]]);t.rows[c].output=w}t.columns[e].filters=t.filters[n]}$("#data-rows").attr("data-total",t.rows.length),$("#tally").html("You have <strong>"+t.rows.length+" items</strong> to choose from.")},this.makeID=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;4>s;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},this.enableFilters=function(t){t.fn.extend({filterPop:function(){t(this).attr("data-filter-column")+1},filterPush:function(){},filterItem:function(){var e=["#data-rows .data-row"],s="",i=[],a=[],r=0,o="",l="";t(".form-field").each(function(){if(void 0!=t(this).data("filters")){var s=t(this).data("filters");e.push(s.datavalue)}if(void 0!=t(this).data("matrixFilters")){var i=t(this).data("matrixFilters"),r=parseInt(i.datavalue.id);void 0===a[r]&&(a[r]={a:null,b:null}),a[r][i.datavalue.part]=i.datavalue.value,l="The other field needs to be selected for the filter to be applied.",a[r].a&&a[r].b&&(e.push(a[r].a+"-"+a[r].b),l="")}}),t(e[0]).hide();for(var n=0;n<e.length;n++)if(-1==e[n].indexOf("null"))if(0==n)s+=e[n];else if(Array.isArray(e[n]))for(var h=0;h<e[n].length;h++)i.push("."+e[n][h]);else s+="."+e[n];else e.splice(n,1);if(void 0!==i[0]){for(var c=0;c<i.length;c++)s+=i[c];r=t(s).show().size()}else r=t(s).show().size();o=0==r?"There are <strong>no items</strong> that matched your selection":r==t("#data-rows").attr("data-total")?"You have <strong>"+t("#data-rows").attr("data-total")+" items</strong> to choose from.":"There are <strong>"+r+" items</strong> that matched your selection",t("#tally").html(o),t("#matrix").html(l)},showAllitems:function(){t("#data-rows .data-row").show()},hideAllitems:function(){t("#data-rows .data-row").hide()},resetItems:function(){t("#filter-columns")[0].reset(),t(".form-field").each(function(){t(this).removeData("filters"),t(this).removeData("matrixFilters")}),t("body").removeData(),t("#data-rows .data-row").show(),t("#search-box").val(""),t("#search-box-clear").trigger("click"),t("#tally").html("You have <strong>"+t("#data-rows").attr("data-total")+" items</strong> to choose from.")}}),t("body").data("filters",{}),t(".data-filter-select").on("change",function(e){t(this).data("filters",{datavalue:t(this).val()}),t(this).filterItem()}),t(".data-filter-matrix").on("change",function(e){t(this).data("matrixFilters",{datavalue:{id:t(this).attr("data-matrix-id"),part:t(this).attr("data-matrix-part"),value:t(this).val()}}),t(this).filterItem()}),t(".data-filter-radio").on("change",function(e){t(this).data("filters",{datavalue:t(this).find("input:checked").val()}),t(this).filterItem()}),t(".data-filter-check").on("change",function(e){var s=[];t(this).find("input:checked").each(function(){s.push(t(this).val())}),t(this).data("filters",{datavalue:s}),t(this).filterItem()}),t(document).on("click",".btn-e-com",function(e){return miniCart.addToCart(t(this).closest("form").attr("id")),!1}),t(document).on("click",".filter-back-btn",function(e){t(this).filterPop()}),t(document).on("click",".show-all-items",function(e){t(this).showAllitems()}),t(document).on("click",".reset-items",function(e){t(this).resetItems()}),t(document).on("click",".hide-all-items",function(e){t(this).hideAllitems()})}}function IsotopeSelection(){this.filters={},this.isolateFilters=function(){for(var t=0;t<originalDataModel.length;t++)originalDataModel.keys[t].indexOf("+")>-1},this.buildFilters=function(t){var e=$("body").data("filters");t.columns=[],t.filters={},t.help=[];for(var s=0;s<t.keys.length;s++){var i=t.keys[s].indexOf("+");if(i>-1){for(var a=t.keys[s].substring(i+1),r=t.keys[s].substring(0,i),o=r.replaceAll("-"," "),l={},n=[],e={id:a,name:o,ids:[t.keys[s],o]},h=0;h<t.rows.length;h++){var c=String(t.rows[h][t.keys[s]]).replace(/\W/g,"").toLowerCase();void 0==t.rows[h].classes?t.rows[h].classes=c:t.rows[h].classes+=" "+c,"undefined"!=typeof t.rows[h][t.keys[s]]&&(l[t.rows[h][t.keys[s]]]="."+c)}for(var f in l)l.hasOwnProperty(f)&&n.push({name:f,filterValue:l[f]});e.filters=l,e.filterKeyValues=n,filters[o]=l,t.columns.push(e)}}t.filters=filters;for(var u=0;u<t.columns.length;u++)t.help[u]=" <-- is the index for "+t.columns[u].ids[1]},this.enableFilters=function(t,e){var s=this;t.fn.extend({isotopeFilter:function(){var i=t(this);if(!i.hasClass("active")){var a=i.parents(".button-group");a.find(".active").removeClass("active"),i.addClass("active");var r=a.attr("data-filter-group");s.filters[r]=i.attr("data-filter-value");var o=[];for(var l in s.filters)o.push(s.filters[l]);var n=o.join("");return e.isotope({filter:n}),!1}},showAllitems:function(){e.isotope({filter:"*"})},hideAllitems:function(){e.isotope("hideItemElements",t(".data-row"))}}),t(document).on("click",".btn-e-com",function(){return miniCart.addToCart(t(this).closest("form").attr("id")),!1}),t(document).on("click",".data-filter-item",function(){t(this).isotopeFilter()}),t(document).on("click",".show-all-items",function(){t(this).showAllitems()}),t(document).on("click",".hide-all-items",function(){t(this).hideAllitems()})}}function SelectionProduct(){this.searchURL="",this.sku="null",this.skuList=[],this.searchPath="","undefined"!=typeof _lt&&""!=_lt.user.displayIso?this.searchPath="https://www.thermofisher.com/search/api/summary/sku/"+_lt.user.displayLang+"/"+_lt.user.displayIso+"/":this.searchPath="https://www.thermofisher.com/search/api/summary/sku/en/us/",this.processImage=function(t){var e="https://www.thermofisher.com/order/catalog/en/US/images/image-na.png";if("string"==typeof t){var s="";if(t.indexOf(";")>-1){var i=t.split(";");t=i[0]}s=t.indexOf("/content/dam")>-1?"https://www.thermofisher.com":"http://tools.thermofisher.com/content/sfs/prodImages/high/",t=t.replaceAll(" ","%20"),t=t.replace("{width}","250"),t=t.replace("{height}","250"),e=s+t}return e},this.makeID=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;16>s;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}}String.prototype.replaceAll=function(t,e){var s=this;return s.replace(new RegExp(t,"g"),e)};